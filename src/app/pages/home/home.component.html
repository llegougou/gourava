<div class="space-y-4 p-8 bg-background min-h-screen">

    <div class="flex items-start justify-between">
      <div class="text-2xl font-semibold text-gray-700">
        Savor every moment, rate every taste
      </div>
      <button (click)="openModal()" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-500 transition">
        Add New Item
      </button>
    </div>
  
    <div *ngIf="showModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
      <div class="bg-white w-full max-w-lg p-6 rounded-md shadow-lg">
        <h2 class="text-lg font-semibold text-gray-800 mb-4">Add New Item</h2>
  
        <form [formGroup]="addItemForm" (ngSubmit)="onSubmit()" class="space-y-4">
          
          <div>
            <label class="block text-sm font-medium text-gray-600">Title</label>
            <input formControlName="title" type="text" placeholder="Enter title"
                   class="w-full p-2 mt-1 border rounded-md border-gray-300 focus:ring-2 focus:ring-blue-500">
          </div>
  
          <div formArrayName="tags"><label class="block text-sm font-medium text-gray-600 mb-1">Tags</label>
          <div *ngFor="let tag of tags.controls; let i = index" class="flex items-center space-x-2 mb-2">
            <input [formControlName]="i" placeholder="Enter tag"
              class="w-full p-2 border rounded-md border-gray-300 focus:ring-2 focus:ring-blue-500">
            <button (click)="removeTag(i)" type="button" class="text-red-500 hover:text-red-700">Remove</button>
          </div>
          <button (click)="addTag()" type="button" [disabled]="tags.length >= maxTags"
            class="text-blue-600 hover:text-blue-800 text-sm" *ngIf="tags.length < maxTags"
            [attr.title]="tags.length >= maxTags ? 'Maximum 3 tags allowed' : ''">
            + Add Tag
          </button>
          </div>
          
          <div formArrayName="criterias"><label class="block text-sm font-medium text-gray-600 mb-1">Criteria Ratings</label>
            <div *ngFor="let criteria of criterias.controls; let i = index" [formGroupName]="i"
              class="flex items-center space-x-2 mb-2">
              <input formControlName="name" placeholder="Criteria name"
              class="w-1/2 p-2 border rounded-md border-gray-300 focus:ring-2 focus:ring-blue-500">
            <input formControlName="rating" type="number" min="0" max="10" placeholder="Rating"
              class="w-1/4 p-2 border rounded-md border-gray-300 focus:ring-2 focus:ring-blue-500">
            <button (click)="removeCriteria(i)" type="button" class="text-red-500 hover:text-red-700">Remove</button>
          </div>
          <button (click)="addCriteria()" type="button" [disabled]="criterias.length >= maxCriteria"
            class="text-blue-600 hover:text-blue-800 text-sm" *ngIf="criterias.length < maxCriteria"
            [attr.title]="criterias.length >= maxCriteria ? 'Maximum 3 criteria allowed' : ''">
            + Add Criteria
          </button>
          </div>
  
          <div class="flex justify-end space-x-4 pt-4">
            <button type="button" (click)="closeModal()" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400">Cancel</button>
            <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500">Save Item</button>
          </div>
        </form>
      </div>
    </div>
  
    <div class="space-y-4">
      <ng-container *ngFor="let item of items">
        <gourava-item-info-card
          [title]="item.title"
          [tags]="item.tags"
          [criterias]="item.criterias"
          [showButtons]="false">
        </gourava-item-info-card>
      </ng-container>
    </div>
  </div>
  